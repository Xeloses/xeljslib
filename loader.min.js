function loadJS(src, callback){const d=document,c={i:0,n:0},x=function(cb){c.i++;if(c.i>=c.n)cb();},l=function(f,cb,id=null){const s=d.createElement('script');s.setAttribute('type','text/javascript');if(id)s.setAttribute('id',id);s.setAttribute('src',f);if(s.readyState)s.onreadystatechange=()=>{if(s.readyState=='loaded'||s.readyState=='complete'){s.onreadystatechange=null;x(cb);}};else s.onload=()=>{x(cb);};d.body.appendChild(s);};if(typeof src==='string')l(src,callback);else if(typeof src==='object'){if(Array.isArray(src)){c.n=src.length;src.forEach((s)=>{l(s,callback);});}else{c.n = Object.values(src).filter((s)=>{return s.length && s.startsWith('http');}).length;for(const id in src)if(!document.getElementById(id))l(src[id],callback,id);}}}
